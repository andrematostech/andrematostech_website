export const heroCodeLines = [
  "from typing import List, Dict, Iterable",
  "import time",
  "import json",
  "from dataclasses import dataclass",
  "",
  "@dataclass",
  "class Message:",
  "    role: str",
  "    content: str",
  "",
  "def format_messages(messages: List[Message]) -> str:",
  "    return \"\\n\".join(f\"{m.role}: {m.content}\" for m in messages)",
  "",
  "def build_prompt(system: str, user: str) -> List[Message]:",
  "    return [",
  "        Message(\"system\", system),",
  "        Message(\"user\", user)",
  "    ]",
  "",
  "def tokenize(text: str) -> List[str]:",
  "    return [t for t in text.replace(\"\\n\", \" \").split(\" \") if t]",
  "",
  "def chunk(tokens: List[str], n: int) -> Iterable[List[str]]:",
  "    for i in range(0, len(tokens), n):",
  "        yield tokens[i:i+n]",
  "",
  "def embed(tokens: List[str]) -> List[float]:",
  "    return [float(len(t)) for t in tokens]",
  "",
  "def cosine(a: List[float], b: List[float]) -> float:",
  "    num = sum(x*y for x, y in zip(a, b))",
  "    den = (sum(x*x for x in a) ** 0.5) * (sum(y*y for y in b) ** 0.5)",
  "    return num / den if den else 0.0",
  "",
  "def rank_documents(query: str, docs: List[str]) -> List[Dict[str, float]]:",
  "    q = embed(tokenize(query))",
  "    scored = []",
  "    for d in docs:",
  "        v = embed(tokenize(d))",
  "        scored.append({\"doc\": d, \"score\": cosine(q, v)})",
  "    return sorted(scored, key=lambda x: x[\"score\"], reverse=True)",
  "",
  "def synthesize(messages: List[Message], context: str) -> str:",
  "    prompt = format_messages(messages) + \"\\ncontext: \" + context",
  "    return \"[llm] \" + prompt[:120] + \"...\"",
  "",
  "def stream_text(text: str, n: int = 24) -> Iterable[str]:",
  "    tokens = tokenize(text)",
  "    for part in chunk(tokens, n):",
  "        yield \" \".join(part)",
  "        time.sleep(0.01)",
  "",
  "def main():",
  "    seed = 42",
  "    noise = [((i * seed) % 97) / 97 for i in range(12)]",
  "    grid = [[round(n * (r + 1), 3) for n in noise] for r in range(4)]",
  "",
  "    pulse = lambda x: (x * 0.618) % 1.0",
  "    flow = [pulse(x) for x in noise]",
  "    mask = [x > 0.55 for x in flow]",
  "",
  "    def fuse(a, b):",
  "        return [round(x + y, 3) for x, y in zip(a, b)]",
  "",
  "    vector = fuse(grid[1], grid[2])",
  "    signal = [v if m else 0 for v, m in zip(vector, mask)]",
  "    ranked = rank_documents(user, docs)",
  "    context = ranked[0][\"doc\"] if ranked else \"\"",
  "",
  "    answer = synthesize(messages, context)",
  "    for frame in stream_text(answer, n=16):",
  "        print(frame)",
  "",
  "if __name__ == \"__main__\":",
  "    main()"
];
